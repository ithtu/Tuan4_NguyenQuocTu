@model lap4_NguyenQuocTu.Models.KhachHang

@{
    ViewBag.Title = "DangKy";
    Layout = "~/Views/Shared/_Layout.cshtml";
}


<h2>DangKy</h2>

@using (Html.BeginForm("DangKy", "NguoiDung", FormMethod.Post, new { id = "formRes", @class = "form-css" }))
{
    @Html.AntiForgeryToken()

    <div class="form-horizontal">
        <h4>KhachHang</h4>
        <hr />
        @Html.ValidationSummary(true, "", new { @class = "text-danger" })
        <form id="CheckForm" method="get">
            <div class="form-group">
                @Html.LabelFor(model => model.hoten, htmlAttributes: new { @class = "control-label col-md-2" })
                <div class="col-md-10">
                    @Html.EditorFor(model => model.hoten, new { htmlAttributes = new { @class = "form-control" } })
                    @Html.ValidationMessageFor(model => model.hoten, "", new { @class = "text-danger" })
                </div>
            </div>

            <div class="form-group">
                @Html.LabelFor(model => model.tendangnhap, htmlAttributes: new { @class = "control-label col-md-2" })
                <div class="col-md-10">
                    @Html.EditorFor(model => model.tendangnhap, new { htmlAttributes = new { @class = "form-control" } })
                    @Html.ValidationMessageFor(model => model.tendangnhap, "", new { @class = "text-danger" })
                </div>
            </div>

            <div class="form-group">
                @Html.LabelFor(model => model.matkhau, htmlAttributes: new { @class = "control-label col-md-2" })
                <div class="col-md-10">
                    @Html.EditorFor(model => model.matkhau, new { htmlAttributes = new { @class = "form-control" } })
                    @Html.ValidationMessageFor(model => model.matkhau, "", new { @class = "text-danger" })
                </div>
            </div>
            <div class="form-group">
                <label class="control-label col-md-2" for="MatKhauXacNhan">
                    Mật khẩu xác nhận:
                </label>
                <div class="col-md-10">
                    <input class="form-control text-box single-line input-validation-error"
                           data-val="true" data-val-required="Phải nhập mật khẩu xác nhận!"
                           id="MatKhauXacNhan" name="MatKhauXacNhan" type="password" value="" aria-describedby="MatKhauXacNhan-error" aria-invalid="true">

                    @ViewData["NhapMKXN"]
                    @ViewData["MatKhauGiongNhau"]
                </div>
            </div>
            <div class="form-group">
                @Html.LabelFor(model => model.email, htmlAttributes: new { @class = "control-label col-md-2" })
                <div class="col-md-10">
                    @Html.EditorFor(model => model.email, new { htmlAttributes = new { @class = "form-control" } })
                    @Html.ValidationMessageFor(model => model.email, "", new { @class = "text-danger" })
                </div>
            </div>

            <div class="form-group">
                @Html.LabelFor(model => model.diachi, htmlAttributes: new { @class = "control-label col-md-2" })
                <div class="col-md-10">
                    @Html.EditorFor(model => model.diachi, new { htmlAttributes = new { @class = "form-control" } })
                    @Html.ValidationMessageFor(model => model.diachi, "", new { @class = "text-danger" })
                </div>
            </div>

            <div class="form-group">
                @Html.LabelFor(model => model.dienthoai, htmlAttributes: new { @class = "control-label col-md-2" })
                <div class="col-md-10">
                    @Html.EditorFor(model => model.dienthoai, new { htmlAttributes = new { @class = "form-control" } })
                    @Html.ValidationMessageFor(model => model.dienthoai, "", new { @class = "text-danger" })
                </div>
            </div>

            <div class="form-group">
                @Html.LabelFor(model => model.ngaysinh, htmlAttributes: new { @class = "control-label col-md-2" })
                <div class="col-md-10">
                    @Html.EditorFor(model => model.ngaysinh, new { htmlAttributes = new { @class = "form-control" } })
                    @Html.ValidationMessageFor(model => model.ngaysinh, "", new { @class = "text-danger" })
                </div>
            </div>


            <div class="form-group">
                <div class="col-md-offset-2 col-md-10">
                    <input type="submit" value="Create" class="btn btn-default" />
                </div>
            </div>
        </form>

    </div>
}
@section scripts {
    <script>
        $(document).ready(function () {
            $("#formRes").validate({
                rules: {
                    hoten: {
                        required: true
                    },
                    tendangnhap: {
                        required: true,
                        minlength: 8
                    },
                    matkhau: {
                        required: true,
                        minlength: 8
                    },
                    email: {
                        email: true,
                        required: true
                    },
                    diachi: {
                        required: true
                    },
                    dienthoai: {
                        required: true,
                        digits: true,
                        rangelength: [8, 11]
                    },
                    ngaysinh: {
                        required: true
                    }
                },
                messages: {
                    hoten: {
                        required: "Họ tên không được để trống"
                    },
                    tendangnhap: {
                        required: "Vui lòng nhập tên đăng nhập",
                        minlength: "Tên đăng nhập phải có ít nhất 8 ký tự"
                    },
                    matkhau: {
                        required: "Mật khẩu không được để trống",
                        minlength: "Mật khẩu phải có ít nhất 8 ký tự"
                    },
                    email: {
                        email: "Email không hợp lệ",
                        required: "Email không được để trống"
                    },
                    diachi: {
                        required: "Địa chỉ không được để trống"
                    },
                    dienthoai: {
                        required: "Số điện thoại không được để trống",
                        digits: "Số điện thoại không hợp lệ",
                        rangelength: "Số điện thoại phải từ 8 đến 11 số"
                    },
                    ngaysinh: {
                        required: "Vui lòng nhập ngày sinh"
                    }
                }
            })
        });
    </script>
}


<div>
    @Html.ActionLink("Back to List", "Index", "Home")
</div>
